<title>Thêm Nhân Viên Mới</title>

<div class="page-content fade-in-up">
    <% if (typeof status !== 'undefined') { %>
    <%if (status == 'success') { %>

    <div class="ibox ibox-success">
        <div class="ibox-head">
            <div class="ibox-title">
                <div style="color: rgb(255, 255, 255);">
                    Tạo Thành Công!
                </div>
            </div>


            <% } else { %>

            <div class=" ibox ibox-danger">
                <div class="ibox-head">
                    <div class="ibox-title">
                        <div style="color: rgb(255, 255, 255);">
                            Đã xảy ra lỗi khi tạo Khách Hàng!
                        </div>
                    </div>


                    <% } %>

                    <% } else { %>

                    <div class="ibox ibox-info">
                        <div class="ibox-head">
                            <div class="ibox-title">
                                <div style="color: rgb(255, 255, 255);">
                                    Thêm Nhân Viên Mới
                                </div>
                            </div>
                            <% } %>

                            <div class="ibox-tools">
                                <a class="ibox-collapse"><i class="fa fa-minus"></i></a>
                            </div>

                        </div>
                        <div class="ibox-body">
                            <form action="/admin/nhanvien/" class="form-horizontal" id="form-sample-1" method="POST"
                                onSubmit="return confirm('Bạn có chắc chắn muốn thêm mới?') ">

                                <% if (typeof conflictError != "undefined" && conflictError) { %>
                                    <div class="text-danger text-left  mb-3"><%= conflictError %></div>
                                    <% } %>
                               

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Tài Khoản</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="taikhoan"
                                        
                                        <% if (typeof taikhoan != "undefined" && taikhoan) { %>
                                            value="<%= taikhoan %>" <% } %>
                                        >
                                    </div>
                                </div>

                            

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Mật Khẩu</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="password" name="matkhau">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Xác Nhận Mật Khẩu</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="password" name="matkhauxn">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Họ</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="honv"
                                        
                                        <% if (typeof honv != "undefined" && honv) { %>
                                            value="<%= honv %>" <% } %>
                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Tên</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="tennv"
                                        
                                        <% if (typeof tennv != "undefined" && tennv) { %>
                                            value="<%= tennv %>" <% } %>
                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Số Điện Thoại</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="sodt"
                                        
                                        <% if (typeof sodt != "undefined" && sodt) { %>
                                            value="<%= sodt %>" <% } %>
                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Địa Chỉ</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="text" name="diachi"
                                        <% if (typeof diachi != "undefined" && diachi) { %>
                                            value="<%= diachi %>" <% } %>
                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Email</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="email" name="email"
                                        
                                        <% if (typeof email != "undefined" && email) { %>
                                            value="<%= email %>" <% } %>

                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Lương</label>
                                    <div class="col-sm-10">
                                        <input class="form-control number-input" type="text" name="luong" 
                                        
                                        <% if (typeof luong != "undefined" && luong) { %>
                                            value="<%= luong %>" <% } %>

                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Ngày Sinh</label>
                                    <div class="col-sm-10">
                                        <input class="form-control" type="date" id="ngaysinh" name="ngaysinh"
                                        
                                        <% if (typeof ngaysinh != "undefined" && ngaysinh) { %>
                                            value="<%= ngaysinh %>" <% } %>
                                        
                                        >
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Giới Tính</label>
                                    <div class="col-sm-10">
                                        <div>
                                            <label for="nam">Nam</label>
                                            <input type="radio" name="gioitinh" id="male" value="1"  <% if (typeof gioitinh != "undefined" && gioitinh == 1) { %>
                                                checked <% } %> >
                                            <label for="khoangtrang"> </label>
                                            <label for="nu">Nữ</label>
                                            <input type="radio" name="gioitinh" id="female" value="2"  <% if (typeof gioitinh != "undefined" && gioitinh == 2) { %>
                                                checked <% } %>
                                                >
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">Nhóm</label>
                                    <div class="col-sm-10">
                                        <select class="form-control" name="manhom">
                                            <% for(var i=0; i < nhom.length; i++) { %>             
                                                <% if (typeof manhom != "undefined" && manhom) { %>
                                                    <option name="manhom" selected value="<%= nhom[i].manhom %>"> <%= nhom[i].tennhom %></option>  <% } else {%>
                                                        <option name="manhom" value="<%= nhom[i].manhom %>"> <%= nhom[i].tennhom %></option>
                                                        <% }%>
                                             <%} %>
                                        </select>
            
                                    </div>
                                </div>

                            
                                <div class="form-group row">
                                    <div class="col-sm-10 ml-sm-auto">
                                        <button class="btn btn-info btn-rounded" type="submit">Thêm Mới</button>
                                        <a href="/admin/nhanvien/index" class="btn btn-info btn-rounded">Xem Danh Sách</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div>

                    </div>
                </div>

<div style="height: 100px;"></div>

<!-- Sử dụng cho jquery - validation -->
<script src="/assets/vendors/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="/assets/vendors/jquery-validation/dist/jquery.validate.min.js" type="text/javascript">
</script>
<script type="text/javascript">
    $("#form-sample-1").validate({
        rules: {
            matkhau: {
                required: !0,
                rangelength: [8, 50]
            },
            matkhau: {
                required: !0,
                rangelength: [8, 50]
            },
            taikhoan: {
                rangelength: [2, 255],
                required: !0
            },
            honv: {
                required: !0,
                rangelength: [2, 255],
            },
            tennv: {
                required: !0,
                rangelength: [2, 255],
            },
            ngaysinh: {
                required: !0,
            },
            sodt: {
                required: !0,
                number: true,
                rangelength: [2, 15],
            },
            
            diachi: {
                required: !0,
                rangelength: [2, 255],
            },
            email: {
                required: !0,
                rangelength: [2, 255],
                email: true
            },

            luong: {
                required: !0,
                rangelength: [2, 11],
            },
            manhom: {
                required: !0,
            },
        },
        errorClass: "help-block error",
        highlight: function (e) {
            $(e).closest(".form-group.row").addClass("has-error")
        },
        unhighlight: function (e) {
            $(e).closest(".form-group.row").removeClass("has-error")
        },
    });

    

</script>

<script>
    const inputs = document.querySelectorAll('.number-input');

    inputs.forEach(input => {
        input.addEventListener('input', function() {
            let value = parseInt(this.value.replace(/\D/g, ''));
            if (value) {
            this.value = value.toLocaleString('en-US');
            }
        });
    });
</script>