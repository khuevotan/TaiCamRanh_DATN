<title>Thêm Sản Phẩm Mới</title>
<div class="page-content fade-in-up">
                    <% if (typeof status !== 'undefined') { %>
                        <%if (status == 'success') { %>

                            <div class="ibox ibox-success">
                                <div class="ibox-head">
                                    <div class="ibox-title">   
                                        <div style="color: rgb(255, 255, 255);">
                                            Tạo Thành Công!
                                        </div>
                                    </div>

                                   
                        <% } else { %>

                            <div class=" ibox ibox-danger">
                                <div class="ibox-head">
                                    <div class="ibox-title">   
                                        <div style="color: rgb(255, 255, 255);">
                                            Đã xảy ra lỗi khi tạo Sản Phẩm!
                                        </div>
                                    </div>

                          
                        <% } %>
                   
                  <% } else { %>

                    <div class="ibox ibox-info">
                        <div class="ibox-head">
                            <div class="ibox-title">   
                                <div style="color: rgb(255, 255, 255);">
                                    Thêm Sản Phẩm Mới
                                </div>
                            </div>
                    <% } %>
            
                <div class="ibox-tools">
                    <a class="ibox-collapse"><i class="fa fa-minus"></i></a>
                </div>
              
            </div>
            <div class="ibox-body">
                <form action="/admin/sanpham/" 
                class="form-horizontal"  
                id="form-sample-1" 
                method="post" 
                enctype="multipart/form-data"
                onSubmit="return confirm('Bạn có chắc chắn muốn thêm mới?') ">
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Tên Sản Phẩm</label>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" name="tensp" >
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Mô Tả Ngắn</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" rows="3"
                                    name="motangan"></textarea>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Hình Đại Diện</label>
                        <div class="col-sm-10">
                            <input class="form-control" type="file" name="hinhdd" accept="image/*">
                        </div>
                    </div>

                     <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Số Lượng</label>
                        <div class="col-sm-10">
                            <input class="form-control" type="number" name="soluong" >
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Giá Bán</label>
                        <div class="col-sm-10">
                            <input class="form-control number-input" type="text" name="giaban" >
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Danh Mục</label>
                        <div class="col-sm-10">
                            <select class="form-control" name="madm">
                                <% for(var i=0; i < danhmuc.length; i++) { %>
                                   
                                        <option name="madm" value="<%= danhmuc[i].madm %>"> <%= danhmuc[i].tendm %></option>
                                     
                                 <%} %>
                            </select>

                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Nhà Cung Cấp</label>
                        <div class="col-sm-10">
                            <select class="form-control" name="mancc">
                                <% for(var i=0; i < nhacungcap.length; i++) { %>
                                   
                                        <option name="mancc" value="<%= nhacungcap[i].mancc %>"> <%= nhacungcap[i].tenncc %></option>
                                     
                                 <%} %>
                            </select>

                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Mô Tả Chi Tiết</label>
                        <div class="col-sm-10">
                         
                            <textarea id="summernote" data-plugin="summernote" data-air-mode="true" name="motact">
                                <h4>Giới thiệu sản phẩm</h4> 
                                .
                                <h4>Thông số kỹ thuật</h4>
                                <ul>
                                    <li>Một.</li>
                                    <li>Hai.</li>
                                  
                        
                                </ul>
                                <h4>Hình ảnh chi tiết</h4> 
                                 .
                            </textarea>

                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-10 ml-sm-auto">
                            <button class="btn btn-info btn-rounded" type="submit">Thêm Mới</button>
                            <a href="/admin/sanpham/index" class="btn btn-info btn-rounded">Xem Danh Sách</a>
                    
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div>
   
        </div>
    </div>

<!-- Sử dụng cho jquery - validation -->
<script src="/assets/vendors/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="/assets/vendors/jquery-validation/dist/jquery.validate.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $("#form-sample-1").validate({
        rules: {
            tensp: {
                rangelength: [2, 255],
                required: !0
            },
            motact: {
                required: !0,
                rangelength: [2, 5000],
            },
            hinhdd: {
                required: !0,
            },
            soluong: {
                number: true,
                rangelength: [1, 9],
                required: !0
            },
            giaban: {
                number: true,
                rangelength: [1, 11],
                required: !0
            },
            madm: {
                required: !0
            },
        },
        errorClass: "help-block error",
        highlight: function(e) {
            $(e).closest(".form-group.row").addClass("has-error")
        },
        unhighlight: function(e) {
            $(e).closest(".form-group.row").removeClass("has-error")
        },
    });
</script>

<script type="text/javascript">
    $(function () {
        $('#summernote').summernote();
        $('#summernote_air').summernote({
            airMode: true
        });
    });

    const inputs = document.querySelectorAll('.number-input');

    inputs.forEach(input => {
        input.addEventListener('input', function() {
            let value = parseInt(this.value.replace(/\D/g, ''));
            if (value) {
            this.value = value.toLocaleString('en-US');
            }
        });
    });

</script>


<div style="height: 150px;"></div>